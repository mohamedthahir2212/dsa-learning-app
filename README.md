# DSA Learning App with Authentication

This project extends the basic DSA learning web app by adding user authentication, 
admin privileges, and logging of login/logout events.  It uses Flask,
Flask‑Login, and Flask‑SQLAlchemy to provide a simple yet functional web
application that can be deployed to a cloud platform such as Heroku or Render.

## Features

* **User Registration and Login** – Users can create an account and log in to access the lesson generator.
* **Admin Dashboard** – An admin user (with `is_admin=True`) can view a table of all login/logout events via `/admin/logs`.
* **Login/Logout Logging** – Each time a user logs in or out, an entry is recorded with a timestamp for analysis.
* **Lesson Generator** – After logging in, users can select a DSA topic and difficulty level and receive a lesson generated by OpenAI.
* **Chatbot** – Logged‑in users can ask free‑form questions about data structures and algorithms via the `/chat` page, and receive answers generated by OpenAI.

## Setup

1. **Install dependencies**:

   ```bash
   pip install -r requirements.txt
   ```

2. **Set environment variables**:

   * `OPENAI_API_KEY` – your OpenAI API key
   * `FLASK_SECRET_KEY` – a secret key for session management (any random string)

3. **Initialize the database and create an admin user**:

   ```bash
   flask --app app.py shell
   >>> from app import db, User
   >>> db.create_all()
   >>> admin = User(username="admin", password=User.hash_password("your_password"), is_admin=True)
   >>> db.session.add(admin); db.session.commit()
   >>> exit()
   ```

4. **Run the application locally**:

   ```bash
   flask --app app.py run
   ```

   The app will be available at `http://localhost:5000`.  You can now log in with the admin account you created and register additional users.

## Deployment

To deploy this app globally, you can use a platform like Heroku.  A simple `Procfile` is included for Heroku deployment.  After pushing the code to a GitHub repository:

1. Create a new Heroku app and connect it to your GitHub repo.
2. Configure the required environment variables (`OPENAI_API_KEY` and `FLASK_SECRET_KEY`) in the Heroku dashboard.
3. Deploy the app via Heroku.  Heroku will automatically detect the `Procfile` and install the dependencies.

Once deployed, the application will be accessible from a public URL and can be used from any browser on desktop or mobile devices.

## Notes

* For production use, consider enabling HTTPS, using a more secure session store, and implementing rate limiting.
* The admin logs page displays all login and logout events.  Additional analytics can be built on top of the `Log` table as needed.
